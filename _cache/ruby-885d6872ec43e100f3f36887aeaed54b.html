<div class="highlight"><pre><span class="n">lock</span> <span class="o">=</span> <span class="no">ReadWriteLock</span><span class="o">.</span><span class="n">new</span>
<span class="c1"># Alternatively, the second example would be created this way:</span>
<span class="c1"># require &#39;java&#39;</span>
<span class="c1"># import java.util.concurrent.locks.ReentrantReadWriteLock</span>
<span class="c1"># lock = ReentrantReadWriteLock.new</span>

<span class="c1"># Usage is identical</span>
<span class="n">lock</span><span class="o">.</span><span class="n">read</span> <span class="k">do</span>
    <span class="nb">puts</span> <span class="s1">&#39;Executing with read lock&#39;</span>
<span class="k">end</span>

<span class="n">lock</span><span class="o">.</span><span class="n">write</span> <span class="k">do</span>
    <span class="nb">puts</span> <span class="s1">&#39;Executing with write lock&#39;</span>
<span class="k">end</span>
</pre>
</div>
